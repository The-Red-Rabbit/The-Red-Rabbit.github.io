---
layout: default
---

<h1>{{ site.theme_config.home.title_blog }}</h1>

<div id="tag-nav">
<span class="tag" id="tag-all"><a href="{{ page.url }}">SHOW ALL ({{ site.posts.size }})</a></span>- 
{% for tag in site.tags %}
<span class="tag" data-tag="{{ tag[0] }}"><a href="?tag={{ tag[0] | url_encode }}">{{ tag[0] }} ({{ tag[1].size }})</a></span>
{% endfor %}
</div>

{% for category in site.categories %}
  {% if category[1].size > 0 %}
    <div class="category-block" data-category="{{ category[0] }}">
      <h3>{{ category[0] }}</h3>
      <ul class="post-list">
        {% for post in category[1] %}
          <li data-tags="{{ post.tags | join: ',' }}" class="post-list-item">
            <span class="home-date">
              {{ post.date | date: site.theme_config.date_format }} Â»
            </span>
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
{% endfor %}


<script>
const tagParam = new URLSearchParams(location.search).get('tag');
const tag = tagParam ? decodeURIComponent(tagParam.replace(/\+/g, ' ')) : null;

  if (tag) {
    document.querySelectorAll('.post-list li').forEach(el => {
      const tags = el.dataset.tags.split(',');
      if (!tags.includes(tag)) el.style.display = 'none';
    });

document.querySelectorAll('#tag-nav span[data-tag]').forEach(link => {
    if (link.dataset.tag === tag) link.classList.add('active')
  });
  } else {
document.getElementById('tag-all')?.classList.add('active');
console.log(document.getElementById('tag-all')?.classList);
}
</script>

<style>
.active {
background-color: var(--highlight);
a {
color: var(--bg-secondary) !important;
}
}
</style>
